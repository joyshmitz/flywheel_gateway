{
  "version": "6",
  "dialect": "sqlite",
  "id": "fda615ca-3f9f-42cb-90e3-0dadf1a10b8a",
  "prevId": "5baf7dcc-eec6-43cf-922b-f11f74251379",
  "tables": {
    "account_pool_members": {
      "name": "account_pool_members",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "pool_id": {
          "name": "pool_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "profile_id": {
          "name": "profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "account_pool_members_pool_idx": {
          "name": "account_pool_members_pool_idx",
          "columns": ["pool_id"],
          "isUnique": false
        },
        "account_pool_members_profile_idx": {
          "name": "account_pool_members_profile_idx",
          "columns": ["profile_id"],
          "isUnique": false
        },
        "account_pool_members_unique_idx": {
          "name": "account_pool_members_unique_idx",
          "columns": ["pool_id", "profile_id"],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "account_pool_members_pool_id_account_pools_id_fk": {
          "name": "account_pool_members_pool_id_account_pools_id_fk",
          "tableFrom": "account_pool_members",
          "tableTo": "account_pools",
          "columnsFrom": ["pool_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "account_pool_members_profile_id_account_profiles_id_fk": {
          "name": "account_pool_members_profile_id_account_profiles_id_fk",
          "tableFrom": "account_pool_members",
          "tableTo": "account_profiles",
          "columnsFrom": ["profile_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "account_pools": {
      "name": "account_pools",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rotation_strategy": {
          "name": "rotation_strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'smart'"
        },
        "cooldown_minutes_default": {
          "name": "cooldown_minutes_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 15
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 3
        },
        "active_profile_id": {
          "name": "active_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_rotated_at": {
          "name": "last_rotated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "account_pools_workspace_idx": {
          "name": "account_pools_workspace_idx",
          "columns": ["workspace_id"],
          "isUnique": false
        },
        "account_pools_workspace_provider_idx": {
          "name": "account_pools_workspace_provider_idx",
          "columns": ["workspace_id", "provider"],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "account_profiles": {
      "name": "account_profiles",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "auth_mode": {
          "name": "auth_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'unlinked'"
        },
        "status_message": {
          "name": "status_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "health_score": {
          "name": "health_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "health_status": {
          "name": "health_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_verified_at": {
          "name": "last_verified_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cooldown_until": {
          "name": "cooldown_until",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_error_at": {
          "name": "last_error_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_count_1h": {
          "name": "error_count_1h",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "penalty_score": {
          "name": "penalty_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "penalty_updated_at": {
          "name": "penalty_updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "plan_type": {
          "name": "plan_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "auth_files_present": {
          "name": "auth_files_present",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "auth_file_hash": {
          "name": "auth_file_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "storage_mode": {
          "name": "storage_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "labels": {
          "name": "labels",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "account_profiles_workspace_idx": {
          "name": "account_profiles_workspace_idx",
          "columns": ["workspace_id"],
          "isUnique": false
        },
        "account_profiles_provider_idx": {
          "name": "account_profiles_provider_idx",
          "columns": ["provider"],
          "isUnique": false
        },
        "account_profiles_status_idx": {
          "name": "account_profiles_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "account_profiles_workspace_provider_idx": {
          "name": "account_profiles_workspace_provider_idx",
          "columns": ["workspace_id", "provider"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "accounts": {
      "name": "accounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "api_key_hash": {
          "name": "api_key_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "accounts_email_idx": {
          "name": "accounts_email_idx",
          "columns": ["email"],
          "isUnique": true
        },
        "accounts_api_key_hash_idx": {
          "name": "accounts_api_key_hash_idx",
          "columns": ["api_key_hash"],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "agent_sweep_logs": {
      "name": "agent_sweep_logs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "plan_id": {
          "name": "plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "repo_id": {
          "name": "repo_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phase": {
          "name": "phase",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "data": {
          "name": "data",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "action_type": {
          "name": "action_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "action_index": {
          "name": "action_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "agent_sweep_logs_session_idx": {
          "name": "agent_sweep_logs_session_idx",
          "columns": ["session_id"],
          "isUnique": false
        },
        "agent_sweep_logs_timestamp_idx": {
          "name": "agent_sweep_logs_timestamp_idx",
          "columns": ["timestamp"],
          "isUnique": false
        },
        "agent_sweep_logs_level_idx": {
          "name": "agent_sweep_logs_level_idx",
          "columns": ["level"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "agent_sweep_logs_session_id_agent_sweep_sessions_id_fk": {
          "name": "agent_sweep_logs_session_id_agent_sweep_sessions_id_fk",
          "tableFrom": "agent_sweep_logs",
          "tableTo": "agent_sweep_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_sweep_logs_plan_id_agent_sweep_plans_id_fk": {
          "name": "agent_sweep_logs_plan_id_agent_sweep_plans_id_fk",
          "tableFrom": "agent_sweep_logs",
          "tableTo": "agent_sweep_plans",
          "columnsFrom": ["plan_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_sweep_logs_repo_id_fleet_repos_id_fk": {
          "name": "agent_sweep_logs_repo_id_fleet_repos_id_fk",
          "tableFrom": "agent_sweep_logs",
          "tableTo": "fleet_repos",
          "columnsFrom": ["repo_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "agent_sweep_plans": {
      "name": "agent_sweep_plans",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "repo_id": {
          "name": "repo_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "repo_full_name": {
          "name": "repo_full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "plan_json": {
          "name": "plan_json",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "plan_version": {
          "name": "plan_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "action_count": {
          "name": "action_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "estimated_duration_ms": {
          "name": "estimated_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "commit_actions": {
          "name": "commit_actions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "release_actions": {
          "name": "release_actions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "branch_actions": {
          "name": "branch_actions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "pr_actions": {
          "name": "pr_actions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "other_actions": {
          "name": "other_actions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "validated_at": {
          "name": "validated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "validation_result": {
          "name": "validation_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "validation_errors": {
          "name": "validation_errors",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approval_status": {
          "name": "approval_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rejected_reason": {
          "name": "rejected_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "execution_status": {
          "name": "execution_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "execution_result": {
          "name": "execution_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "agent_sweep_plans_session_idx": {
          "name": "agent_sweep_plans_session_idx",
          "columns": ["session_id"],
          "isUnique": false
        },
        "agent_sweep_plans_repo_idx": {
          "name": "agent_sweep_plans_repo_idx",
          "columns": ["repo_id"],
          "isUnique": false
        },
        "agent_sweep_plans_approval_idx": {
          "name": "agent_sweep_plans_approval_idx",
          "columns": ["approval_status"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "agent_sweep_plans_session_id_agent_sweep_sessions_id_fk": {
          "name": "agent_sweep_plans_session_id_agent_sweep_sessions_id_fk",
          "tableFrom": "agent_sweep_plans",
          "tableTo": "agent_sweep_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_sweep_plans_repo_id_fleet_repos_id_fk": {
          "name": "agent_sweep_plans_repo_id_fleet_repos_id_fk",
          "tableFrom": "agent_sweep_plans",
          "tableTo": "fleet_repos",
          "columnsFrom": ["repo_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "agent_sweep_sessions": {
      "name": "agent_sweep_sessions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "target_repos": {
          "name": "target_repos",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "repo_count": {
          "name": "repo_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "config": {
          "name": "config",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "parallelism": {
          "name": "parallelism",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "current_phase": {
          "name": "current_phase",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phase1_completed_at": {
          "name": "phase1_completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phase2_completed_at": {
          "name": "phase2_completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phase3_completed_at": {
          "name": "phase3_completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "repos_analyzed": {
          "name": "repos_analyzed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "repos_planned": {
          "name": "repos_planned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "repos_executed": {
          "name": "repos_executed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "repos_failed": {
          "name": "repos_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "repos_skipped": {
          "name": "repos_skipped",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "total_duration_ms": {
          "name": "total_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "slb_approval_required": {
          "name": "slb_approval_required",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "slb_approval_id": {
          "name": "slb_approval_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "slb_approved_by": {
          "name": "slb_approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "slb_approved_at": {
          "name": "slb_approved_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "agent_sweep_sessions_status_idx": {
          "name": "agent_sweep_sessions_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "agent_sweep_sessions_phase_idx": {
          "name": "agent_sweep_sessions_phase_idx",
          "columns": ["current_phase"],
          "isUnique": false
        },
        "agent_sweep_sessions_created_at_idx": {
          "name": "agent_sweep_sessions_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "agents": {
      "name": "agents",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "repo_url": {
          "name": "repo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "task": {
          "name": "task",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'idle'"
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'sonnet-4'"
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "agents_status_idx": {
          "name": "agents_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "agents_account_idx": {
          "name": "agents_account_idx",
          "columns": ["account_id"],
          "isUnique": false
        },
        "agents_created_at_idx": {
          "name": "agents_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "agents_account_id_accounts_id_fk": {
          "name": "agents_account_id_accounts_id_fk",
          "tableFrom": "agents",
          "tableTo": "accounts",
          "columnsFrom": ["account_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "alerts": {
      "name": "alerts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "alerts_severity_idx": {
          "name": "alerts_severity_idx",
          "columns": ["severity"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "approval_requests": {
      "name": "approval_requests",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rule_id": {
          "name": "rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rule_name": {
          "name": "rule_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "operation_type": {
          "name": "operation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "operation_command": {
          "name": "operation_command",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "operation_path": {
          "name": "operation_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "operation_description": {
          "name": "operation_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "operation_details": {
          "name": "operation_details",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "task_description": {
          "name": "task_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "recent_actions": {
          "name": "recent_actions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'normal'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "decided_by": {
          "name": "decided_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "decision_reason": {
          "name": "decision_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "approval_requests_workspace_idx": {
          "name": "approval_requests_workspace_idx",
          "columns": ["workspace_id"],
          "isUnique": false
        },
        "approval_requests_agent_idx": {
          "name": "approval_requests_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "approval_requests_status_idx": {
          "name": "approval_requests_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "approval_requests_priority_idx": {
          "name": "approval_requests_priority_idx",
          "columns": ["priority"],
          "isUnique": false
        },
        "approval_requests_requested_at_idx": {
          "name": "approval_requests_requested_at_idx",
          "columns": ["requested_at"],
          "isUnique": false
        },
        "approval_requests_expires_at_idx": {
          "name": "approval_requests_expires_at_idx",
          "columns": ["expires_at"],
          "isUnique": false
        },
        "approval_requests_correlation_idx": {
          "name": "approval_requests_correlation_idx",
          "columns": ["correlation_id"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "approval_requests_agent_id_agents_id_fk": {
          "name": "approval_requests_agent_id_agents_id_fk",
          "tableFrom": "approval_requests",
          "tableTo": "agents",
          "columnsFrom": ["agent_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_requests_rule_id_safety_rules_id_fk": {
          "name": "approval_requests_rule_id_safety_rules_id_fk",
          "tableFrom": "approval_requests",
          "tableTo": "safety_rules",
          "columnsFrom": ["rule_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "audit_logs": {
      "name": "audit_logs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "resource": {
          "name": "resource",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "audit_logs_account_idx": {
          "name": "audit_logs_account_idx",
          "columns": ["account_id"],
          "isUnique": false
        },
        "audit_logs_action_idx": {
          "name": "audit_logs_action_idx",
          "columns": ["action"],
          "isUnique": false
        },
        "audit_logs_created_at_idx": {
          "name": "audit_logs_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "audit_logs_account_id_accounts_id_fk": {
          "name": "audit_logs_account_id_accounts_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "accounts",
          "columnsFrom": ["account_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "branch_assignments": {
      "name": "branch_assignments",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "repository_id": {
          "name": "repository_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "branch_name": {
          "name": "branch_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "base_branch": {
          "name": "base_branch",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'main'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "task_id": {
          "name": "task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "task_description": {
          "name": "task_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reserved_patterns": {
          "name": "reserved_patterns",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "branch_assignments_agent_idx": {
          "name": "branch_assignments_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "branch_assignments_repository_idx": {
          "name": "branch_assignments_repository_idx",
          "columns": ["repository_id"],
          "isUnique": false
        },
        "branch_assignments_status_idx": {
          "name": "branch_assignments_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "branch_assignments_repo_branch_idx": {
          "name": "branch_assignments_repo_branch_idx",
          "columns": ["repository_id", "branch_name"],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "branch_assignments_agent_id_agents_id_fk": {
          "name": "branch_assignments_agent_id_agents_id_fk",
          "tableFrom": "branch_assignments",
          "tableTo": "agents",
          "columnsFrom": ["agent_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "budget_alerts": {
      "name": "budget_alerts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "budget_id": {
          "name": "budget_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "threshold": {
          "name": "threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "used_percent": {
          "name": "used_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "used_units": {
          "name": "used_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "budget_units": {
          "name": "budget_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "period_start": {
          "name": "period_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "period_end": {
          "name": "period_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "budget_alerts_budget_idx": {
          "name": "budget_alerts_budget_idx",
          "columns": ["budget_id"],
          "isUnique": false
        },
        "budget_alerts_threshold_idx": {
          "name": "budget_alerts_threshold_idx",
          "columns": ["threshold"],
          "isUnique": false
        },
        "budget_alerts_created_at_idx": {
          "name": "budget_alerts_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "budget_alerts_budget_id_budgets_id_fk": {
          "name": "budget_alerts_budget_id_budgets_id_fk",
          "tableFrom": "budget_alerts",
          "tableTo": "budgets",
          "columnsFrom": ["budget_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "budget_usage": {
      "name": "budget_usage",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "scope_id": {
          "name": "scope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "dollars_used": {
          "name": "dollars_used",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "period_start": {
          "name": "period_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "period_end": {
          "name": "period_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "budget_usage_workspace_idx": {
          "name": "budget_usage_workspace_idx",
          "columns": ["workspace_id"],
          "isUnique": false
        },
        "budget_usage_scope_idx": {
          "name": "budget_usage_scope_idx",
          "columns": ["scope", "scope_id"],
          "isUnique": false
        },
        "budget_usage_scope_period_idx": {
          "name": "budget_usage_scope_period_idx",
          "columns": ["scope", "scope_id", "period_start"],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "budgets": {
      "name": "budgets",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "project_id": {
          "name": "project_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "period": {
          "name": "period",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount_units": {
          "name": "amount_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "alert_thresholds": {
          "name": "alert_thresholds",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action_on_exceed": {
          "name": "action_on_exceed",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'alert'"
        },
        "rollover": {
          "name": "rollover",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "enabled": {
          "name": "enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "budgets_organization_idx": {
          "name": "budgets_organization_idx",
          "columns": ["organization_id"],
          "isUnique": false
        },
        "budgets_project_idx": {
          "name": "budgets_project_idx",
          "columns": ["project_id"],
          "isUnique": false
        },
        "budgets_enabled_idx": {
          "name": "budgets_enabled_idx",
          "columns": ["enabled"],
          "isUnique": false
        },
        "budgets_effective_date_idx": {
          "name": "budgets_effective_date_idx",
          "columns": ["effective_date"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "checkpoints": {
      "name": "checkpoints",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "state": {
          "name": "state",
          "type": "blob",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "checkpoints_agent_idx": {
          "name": "checkpoints_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "checkpoints_created_at_idx": {
          "name": "checkpoints_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "checkpoints_agent_id_agents_id_fk": {
          "name": "checkpoints_agent_id_agents_id_fk",
          "tableFrom": "checkpoints",
          "tableTo": "agents",
          "columnsFrom": ["agent_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "conflict_predictions": {
      "name": "conflict_predictions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "repository_id": {
          "name": "repository_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "branch_a": {
          "name": "branch_a",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "branch_b": {
          "name": "branch_b",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "has_conflicts": {
          "name": "has_conflicts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "conflicting_files": {
          "name": "conflicting_files",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'none'"
        },
        "recommendation": {
          "name": "recommendation",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "common_ancestor": {
          "name": "common_ancestor",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "changes_in_a": {
          "name": "changes_in_a",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "changes_in_b": {
          "name": "changes_in_b",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "overlapping_files": {
          "name": "overlapping_files",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "predicted_at": {
          "name": "predicted_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "conflict_predictions_repository_idx": {
          "name": "conflict_predictions_repository_idx",
          "columns": ["repository_id"],
          "isUnique": false
        },
        "conflict_predictions_branches_idx": {
          "name": "conflict_predictions_branches_idx",
          "columns": ["branch_a", "branch_b"],
          "isUnique": false
        },
        "conflict_predictions_predicted_at_idx": {
          "name": "conflict_predictions_predicted_at_idx",
          "columns": ["predicted_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "cost_aggregates": {
      "name": "cost_aggregates",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "period": {
          "name": "period",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "period_start": {
          "name": "period_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "period_end": {
          "name": "period_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "project_id": {
          "name": "project_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "total_cost_units": {
          "name": "total_cost_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cached_tokens": {
          "name": "cached_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "request_count": {
          "name": "request_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "by_model": {
          "name": "by_model",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "by_provider": {
          "name": "by_provider",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "cost_aggregates_period_idx": {
          "name": "cost_aggregates_period_idx",
          "columns": ["period"],
          "isUnique": false
        },
        "cost_aggregates_period_start_idx": {
          "name": "cost_aggregates_period_start_idx",
          "columns": ["period_start"],
          "isUnique": false
        },
        "cost_aggregates_organization_idx": {
          "name": "cost_aggregates_organization_idx",
          "columns": ["organization_id"],
          "isUnique": false
        },
        "cost_aggregates_project_idx": {
          "name": "cost_aggregates_project_idx",
          "columns": ["project_id"],
          "isUnique": false
        },
        "cost_aggregates_agent_idx": {
          "name": "cost_aggregates_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "cost_aggregates_unique_idx": {
          "name": "cost_aggregates_unique_idx",
          "columns": [
            "period",
            "period_start",
            "organization_id",
            "project_id",
            "agent_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "cost_forecasts": {
      "name": "cost_forecasts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "project_id": {
          "name": "project_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "forecast_date": {
          "name": "forecast_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "horizon_days": {
          "name": "horizon_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "methodology": {
          "name": "methodology",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "daily_forecasts": {
          "name": "daily_forecasts",
          "type": "blob",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "total_forecast_units": {
          "name": "total_forecast_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "confidence_lower": {
          "name": "confidence_lower",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "confidence_upper": {
          "name": "confidence_upper",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "mape": {
          "name": "mape",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rmse": {
          "name": "rmse",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "historical_days_used": {
          "name": "historical_days_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "seasonality_detected": {
          "name": "seasonality_detected",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "trend_direction": {
          "name": "trend_direction",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "trend_strength": {
          "name": "trend_strength",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "cost_forecasts_organization_idx": {
          "name": "cost_forecasts_organization_idx",
          "columns": ["organization_id"],
          "isUnique": false
        },
        "cost_forecasts_project_idx": {
          "name": "cost_forecasts_project_idx",
          "columns": ["project_id"],
          "isUnique": false
        },
        "cost_forecasts_forecast_date_idx": {
          "name": "cost_forecasts_forecast_date_idx",
          "columns": ["forecast_date"],
          "isUnique": false
        },
        "cost_forecasts_created_at_idx": {
          "name": "cost_forecasts_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "cost_records": {
      "name": "cost_records",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "project_id": {
          "name": "project_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "task_id": {
          "name": "task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cached_tokens": {
          "name": "cached_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "prompt_cost_units": {
          "name": "prompt_cost_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "completion_cost_units": {
          "name": "completion_cost_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cached_cost_units": {
          "name": "cached_cost_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "total_cost_units": {
          "name": "total_cost_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "task_type": {
          "name": "task_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "complexity_tier": {
          "name": "complexity_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "success": {
          "name": "success",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "request_duration_ms": {
          "name": "request_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "cost_records_timestamp_idx": {
          "name": "cost_records_timestamp_idx",
          "columns": ["timestamp"],
          "isUnique": false
        },
        "cost_records_organization_idx": {
          "name": "cost_records_organization_idx",
          "columns": ["organization_id"],
          "isUnique": false
        },
        "cost_records_project_idx": {
          "name": "cost_records_project_idx",
          "columns": ["project_id"],
          "isUnique": false
        },
        "cost_records_agent_idx": {
          "name": "cost_records_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "cost_records_model_idx": {
          "name": "cost_records_model_idx",
          "columns": ["model"],
          "isUnique": false
        },
        "cost_records_provider_idx": {
          "name": "cost_records_provider_idx",
          "columns": ["provider"],
          "isUnique": false
        },
        "cost_records_correlation_idx": {
          "name": "cost_records_correlation_idx",
          "columns": ["correlation_id"],
          "isUnique": false
        },
        "cost_records_org_timestamp_idx": {
          "name": "cost_records_org_timestamp_idx",
          "columns": ["organization_id", "timestamp"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "cost_records_agent_id_agents_id_fk": {
          "name": "cost_records_agent_id_agents_id_fk",
          "tableFrom": "cost_records",
          "tableTo": "agents",
          "columnsFrom": ["agent_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "dcg_allowlist": {
      "name": "dcg_allowlist",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "rule_id": {
          "name": "rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "pattern": {
          "name": "pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "dcg_allowlist_rule_id_idx": {
          "name": "dcg_allowlist_rule_id_idx",
          "columns": ["rule_id"],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "dcg_blocks": {
      "name": "dcg_blocks",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "pattern": {
          "name": "pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "false_positive": {
          "name": "false_positive",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "dcg_blocks_created_at_idx": {
          "name": "dcg_blocks_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "dcg_config": {
      "name": "dcg_config",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "enabled_packs": {
          "name": "enabled_packs",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "disabled_packs": {
          "name": "disabled_packs",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "critical_mode": {
          "name": "critical_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'deny'"
        },
        "high_mode": {
          "name": "high_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'deny'"
        },
        "medium_mode": {
          "name": "medium_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'warn'"
        },
        "low_mode": {
          "name": "low_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'log'"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "dcg_config_history": {
      "name": "dcg_config_history",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "config_snapshot": {
          "name": "config_snapshot",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "previous_snapshot": {
          "name": "previous_snapshot",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "change_reason": {
          "name": "change_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "change_type": {
          "name": "change_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "dcg_config_history_changed_at_idx": {
          "name": "dcg_config_history_changed_at_idx",
          "columns": ["changed_at"],
          "isUnique": false
        },
        "dcg_config_history_changed_by_idx": {
          "name": "dcg_config_history_changed_by_idx",
          "columns": ["changed_by"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "dcg_pending_exceptions": {
      "name": "dcg_pending_exceptions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "short_code": {
          "name": "short_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "command": {
          "name": "command",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "command_hash": {
          "name": "command_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "pack": {
          "name": "pack",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rule_id": {
          "name": "rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "block_event_id": {
          "name": "block_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "denied_by": {
          "name": "denied_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "denied_at": {
          "name": "denied_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "deny_reason": {
          "name": "deny_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "execution_result": {
          "name": "execution_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "dcg_pending_exceptions_short_code_unique": {
          "name": "dcg_pending_exceptions_short_code_unique",
          "columns": ["short_code"],
          "isUnique": true
        },
        "dcg_pending_short_code_idx": {
          "name": "dcg_pending_short_code_idx",
          "columns": ["short_code"],
          "isUnique": true
        },
        "dcg_pending_status_idx": {
          "name": "dcg_pending_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "dcg_pending_agent_idx": {
          "name": "dcg_pending_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "dcg_pending_expires_idx": {
          "name": "dcg_pending_expires_idx",
          "columns": ["expires_at"],
          "isUnique": false
        },
        "dcg_pending_command_hash_idx": {
          "name": "dcg_pending_command_hash_idx",
          "columns": ["command_hash"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "fleet_repos": {
      "name": "fleet_repos",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "owner": {
          "name": "owner",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ssh_url": {
          "name": "ssh_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "local_path": {
          "name": "local_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_cloned": {
          "name": "is_cloned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "current_branch": {
          "name": "current_branch",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "default_branch": {
          "name": "default_branch",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_commit": {
          "name": "last_commit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_commit_date": {
          "name": "last_commit_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_commit_author": {
          "name": "last_commit_author",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'unknown'"
        },
        "has_uncommitted_changes": {
          "name": "has_uncommitted_changes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "has_unpushed_commits": {
          "name": "has_unpushed_commits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "ahead_by": {
          "name": "ahead_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "behind_by": {
          "name": "behind_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "stars": {
          "name": "stars",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_private": {
          "name": "is_private",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ru_group": {
          "name": "ru_group",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ru_config": {
          "name": "ru_config",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "agentsmd_path": {
          "name": "agentsmd_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_scan_date": {
          "name": "last_scan_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "added_at": {
          "name": "added_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "fleet_repos_owner_idx": {
          "name": "fleet_repos_owner_idx",
          "columns": ["owner"],
          "isUnique": false
        },
        "fleet_repos_status_idx": {
          "name": "fleet_repos_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "fleet_repos_group_idx": {
          "name": "fleet_repos_group_idx",
          "columns": ["ru_group"],
          "isUnique": false
        },
        "fleet_repos_full_name_idx": {
          "name": "fleet_repos_full_name_idx",
          "columns": ["full_name"],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "fleet_sync_ops": {
      "name": "fleet_sync_ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "repo_id": {
          "name": "repo_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "repo_full_name": {
          "name": "repo_full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "operation": {
          "name": "operation",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "from_commit": {
          "name": "from_commit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "to_commit": {
          "name": "to_commit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "commit_count": {
          "name": "commit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "files_changed": {
          "name": "files_changed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "fleet_sync_ops_repo_idx": {
          "name": "fleet_sync_ops_repo_idx",
          "columns": ["repo_id"],
          "isUnique": false
        },
        "fleet_sync_ops_status_idx": {
          "name": "fleet_sync_ops_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "fleet_sync_ops_created_at_idx": {
          "name": "fleet_sync_ops_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        },
        "fleet_sync_ops_correlation_idx": {
          "name": "fleet_sync_ops_correlation_idx",
          "columns": ["correlation_id"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fleet_sync_ops_repo_id_fleet_repos_id_fk": {
          "name": "fleet_sync_ops_repo_id_fleet_repos_id_fk",
          "tableFrom": "fleet_sync_ops",
          "tableTo": "fleet_repos",
          "columnsFrom": ["repo_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "git_sync_operations": {
      "name": "git_sync_operations",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "repository_id": {
          "name": "repository_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "operation": {
          "name": "operation",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "branch": {
          "name": "branch",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "target_branch": {
          "name": "target_branch",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "remote": {
          "name": "remote",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "force": {
          "name": "force",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "queued_at": {
          "name": "queued_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "success": {
          "name": "success",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "from_commit": {
          "name": "from_commit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "to_commit": {
          "name": "to_commit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "files_changed": {
          "name": "files_changed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "insertions": {
          "name": "insertions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "deletions": {
          "name": "deletions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "conflicts_detected": {
          "name": "conflicts_detected",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "conflict_files": {
          "name": "conflict_files",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "attempt": {
          "name": "attempt",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 3
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "git_sync_operations_repository_idx": {
          "name": "git_sync_operations_repository_idx",
          "columns": ["repository_id"],
          "isUnique": false
        },
        "git_sync_operations_agent_idx": {
          "name": "git_sync_operations_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "git_sync_operations_status_idx": {
          "name": "git_sync_operations_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "git_sync_operations_queued_at_idx": {
          "name": "git_sync_operations_queued_at_idx",
          "columns": ["queued_at"],
          "isUnique": false
        },
        "git_sync_operations_correlation_idx": {
          "name": "git_sync_operations_correlation_idx",
          "columns": ["correlation_id"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "git_sync_operations_agent_id_agents_id_fk": {
          "name": "git_sync_operations_agent_id_agents_id_fk",
          "tableFrom": "git_sync_operations",
          "tableTo": "agents",
          "columnsFrom": ["agent_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "history": {
      "name": "history",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "command": {
          "name": "command",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "input": {
          "name": "input",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "output": {
          "name": "output",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "history_agent_idx": {
          "name": "history_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "history_command_idx": {
          "name": "history_command_idx",
          "columns": ["command"],
          "isUnique": false
        },
        "history_created_at_idx": {
          "name": "history_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "history_agent_id_agents_id_fk": {
          "name": "history_agent_id_agents_id_fk",
          "tableFrom": "history",
          "tableTo": "agents",
          "columnsFrom": ["agent_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "job_logs": {
      "name": "job_logs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "job_id": {
          "name": "job_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "data": {
          "name": "data",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "job_logs_job_idx": {
          "name": "job_logs_job_idx",
          "columns": ["job_id"],
          "isUnique": false
        },
        "job_logs_timestamp_idx": {
          "name": "job_logs_timestamp_idx",
          "columns": ["timestamp"],
          "isUnique": false
        },
        "job_logs_level_idx": {
          "name": "job_logs_level_idx",
          "columns": ["level"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "job_logs_job_id_jobs_id_fk": {
          "name": "job_logs_job_id_jobs_id_fk",
          "tableFrom": "job_logs",
          "tableTo": "jobs",
          "columnsFrom": ["job_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "jobs": {
      "name": "jobs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "input": {
          "name": "input",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "output": {
          "name": "output",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "progress_current": {
          "name": "progress_current",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "progress_total": {
          "name": "progress_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 100
        },
        "progress_message": {
          "name": "progress_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "progress_stage": {
          "name": "progress_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "estimated_duration_ms": {
          "name": "estimated_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actual_duration_ms": {
          "name": "actual_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_retryable": {
          "name": "error_retryable",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "retry_attempts": {
          "name": "retry_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "retry_max_attempts": {
          "name": "retry_max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 3
        },
        "retry_backoff_ms": {
          "name": "retry_backoff_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1000
        },
        "retry_next_at": {
          "name": "retry_next_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cancel_requested_at": {
          "name": "cancel_requested_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cancel_requested_by": {
          "name": "cancel_requested_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cancel_reason": {
          "name": "cancel_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "checkpoint_state": {
          "name": "checkpoint_state",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "checkpoint_at": {
          "name": "checkpoint_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "jobs_type_idx": {
          "name": "jobs_type_idx",
          "columns": ["type"],
          "isUnique": false
        },
        "jobs_status_idx": {
          "name": "jobs_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "jobs_priority_idx": {
          "name": "jobs_priority_idx",
          "columns": ["priority"],
          "isUnique": false
        },
        "jobs_session_idx": {
          "name": "jobs_session_idx",
          "columns": ["session_id"],
          "isUnique": false
        },
        "jobs_agent_idx": {
          "name": "jobs_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "jobs_created_at_idx": {
          "name": "jobs_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        },
        "jobs_correlation_idx": {
          "name": "jobs_correlation_idx",
          "columns": ["correlation_id"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "jobs_agent_id_agents_id_fk": {
          "name": "jobs_agent_id_agents_id_fk",
          "tableFrom": "jobs",
          "tableTo": "agents",
          "columnsFrom": ["agent_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "model_rate_cards": {
      "name": "model_rate_cards",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "prompt_cost_per_1k_tokens": {
          "name": "prompt_cost_per_1k_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "completion_cost_per_1k_tokens": {
          "name": "completion_cost_per_1k_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cached_prompt_cost_per_1k_tokens": {
          "name": "cached_prompt_cost_per_1k_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "model_rate_cards_model_idx": {
          "name": "model_rate_cards_model_idx",
          "columns": ["model"],
          "isUnique": false
        },
        "model_rate_cards_provider_idx": {
          "name": "model_rate_cards_provider_idx",
          "columns": ["provider"],
          "isUnique": false
        },
        "model_rate_cards_effective_date_idx": {
          "name": "model_rate_cards_effective_date_idx",
          "columns": ["effective_date"],
          "isUnique": false
        },
        "model_rate_cards_model_effective_idx": {
          "name": "model_rate_cards_model_effective_idx",
          "columns": ["model", "provider", "effective_date"],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "optimization_recommendations": {
      "name": "optimization_recommendations",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "current_cost_units": {
          "name": "current_cost_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "optimized_cost_units": {
          "name": "optimized_cost_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "estimated_savings_units": {
          "name": "estimated_savings_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "savings_percent": {
          "name": "savings_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "implementation": {
          "name": "implementation",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "risk": {
          "name": "risk",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "effort_hours": {
          "name": "effort_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "prerequisites": {
          "name": "prerequisites",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "project_id": {
          "name": "project_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "affected_agents": {
          "name": "affected_agents",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "affected_models": {
          "name": "affected_models",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "implemented_at": {
          "name": "implemented_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "implemented_by": {
          "name": "implemented_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rejected_reason": {
          "name": "rejected_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actual_savings_units": {
          "name": "actual_savings_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "validated_at": {
          "name": "validated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 3
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "optimization_recommendations_category_idx": {
          "name": "optimization_recommendations_category_idx",
          "columns": ["category"],
          "isUnique": false
        },
        "optimization_recommendations_status_idx": {
          "name": "optimization_recommendations_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "optimization_recommendations_organization_idx": {
          "name": "optimization_recommendations_organization_idx",
          "columns": ["organization_id"],
          "isUnique": false
        },
        "optimization_recommendations_project_idx": {
          "name": "optimization_recommendations_project_idx",
          "columns": ["project_id"],
          "isUnique": false
        },
        "optimization_recommendations_priority_idx": {
          "name": "optimization_recommendations_priority_idx",
          "columns": ["priority"],
          "isUnique": false
        },
        "optimization_recommendations_created_at_idx": {
          "name": "optimization_recommendations_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "pipeline_approvals": {
      "name": "pipeline_approvals",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "run_id": {
          "name": "run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "step_id": {
          "name": "step_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "approvers": {
          "name": "approvers",
          "type": "blob",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "min_approvals": {
          "name": "min_approvals",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "decisions": {
          "name": "decisions",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timeout_at": {
          "name": "timeout_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "on_timeout": {
          "name": "on_timeout",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'fail'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "pipeline_approvals_run_idx": {
          "name": "pipeline_approvals_run_idx",
          "columns": ["run_id"],
          "isUnique": false
        },
        "pipeline_approvals_status_idx": {
          "name": "pipeline_approvals_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "pipeline_approvals_timeout_idx": {
          "name": "pipeline_approvals_timeout_idx",
          "columns": ["timeout_at"],
          "isUnique": false
        },
        "pipeline_approvals_run_step_idx": {
          "name": "pipeline_approvals_run_step_idx",
          "columns": ["run_id", "step_id"],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "pipeline_approvals_run_id_pipeline_runs_id_fk": {
          "name": "pipeline_approvals_run_id_pipeline_runs_id_fk",
          "tableFrom": "pipeline_approvals",
          "tableTo": "pipeline_runs",
          "columnsFrom": ["run_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "pipeline_runs": {
      "name": "pipeline_runs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "pipeline_id": {
          "name": "pipeline_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "pipeline_version": {
          "name": "pipeline_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "current_step_index": {
          "name": "current_step_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "executed_step_ids": {
          "name": "executed_step_ids",
          "type": "blob",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "context": {
          "name": "context",
          "type": "blob",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "trigger_params": {
          "name": "trigger_params",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "triggered_by_type": {
          "name": "triggered_by_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "triggered_by_id": {
          "name": "triggered_by_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_step_id": {
          "name": "error_step_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "pipeline_runs_pipeline_idx": {
          "name": "pipeline_runs_pipeline_idx",
          "columns": ["pipeline_id"],
          "isUnique": false
        },
        "pipeline_runs_status_idx": {
          "name": "pipeline_runs_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "pipeline_runs_started_at_idx": {
          "name": "pipeline_runs_started_at_idx",
          "columns": ["started_at"],
          "isUnique": false
        },
        "pipeline_runs_correlation_idx": {
          "name": "pipeline_runs_correlation_idx",
          "columns": ["correlation_id"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "pipeline_runs_pipeline_id_pipelines_id_fk": {
          "name": "pipeline_runs_pipeline_id_pipelines_id_fk",
          "tableFrom": "pipeline_runs",
          "tableTo": "pipelines",
          "columnsFrom": ["pipeline_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "pipeline_schedules": {
      "name": "pipeline_schedules",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "pipeline_id": {
          "name": "pipeline_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cron": {
          "name": "cron",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'UTC'"
        },
        "start_date": {
          "name": "start_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "end_date": {
          "name": "end_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "enabled": {
          "name": "enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "next_run_at": {
          "name": "next_run_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_run_at": {
          "name": "last_run_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_run_id": {
          "name": "last_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "run_count": {
          "name": "run_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "pipeline_schedules_pipeline_idx": {
          "name": "pipeline_schedules_pipeline_idx",
          "columns": ["pipeline_id"],
          "isUnique": false
        },
        "pipeline_schedules_enabled_idx": {
          "name": "pipeline_schedules_enabled_idx",
          "columns": ["enabled"],
          "isUnique": false
        },
        "pipeline_schedules_next_run_idx": {
          "name": "pipeline_schedules_next_run_idx",
          "columns": ["next_run_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "pipeline_schedules_pipeline_id_pipelines_id_fk": {
          "name": "pipeline_schedules_pipeline_id_pipelines_id_fk",
          "tableFrom": "pipeline_schedules",
          "tableTo": "pipelines",
          "columnsFrom": ["pipeline_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "pipeline_step_results": {
      "name": "pipeline_step_results",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "run_id": {
          "name": "run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "step_id": {
          "name": "step_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "step_name": {
          "name": "step_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "step_type": {
          "name": "step_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "success": {
          "name": "success",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "output": {
          "name": "output",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_details": {
          "name": "error_details",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "pipeline_step_results_run_idx": {
          "name": "pipeline_step_results_run_idx",
          "columns": ["run_id"],
          "isUnique": false
        },
        "pipeline_step_results_step_idx": {
          "name": "pipeline_step_results_step_idx",
          "columns": ["step_id"],
          "isUnique": false
        },
        "pipeline_step_results_status_idx": {
          "name": "pipeline_step_results_status_idx",
          "columns": ["status"],
          "isUnique": false
        },
        "pipeline_step_results_run_step_idx": {
          "name": "pipeline_step_results_run_step_idx",
          "columns": ["run_id", "step_id"],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "pipeline_step_results_run_id_pipeline_runs_id_fk": {
          "name": "pipeline_step_results_run_id_pipeline_runs_id_fk",
          "tableFrom": "pipeline_step_results",
          "tableTo": "pipeline_runs",
          "columnsFrom": ["run_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "pipelines": {
      "name": "pipelines",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "enabled": {
          "name": "enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "trigger_config": {
          "name": "trigger_config",
          "type": "blob",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "trigger_enabled": {
          "name": "trigger_enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "next_trigger_at": {
          "name": "next_trigger_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_triggered_at": {
          "name": "last_triggered_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "steps": {
          "name": "steps",
          "type": "blob",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "context_defaults": {
          "name": "context_defaults",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "retry_policy": {
          "name": "retry_policy",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tags": {
          "name": "tags",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "total_runs": {
          "name": "total_runs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "successful_runs": {
          "name": "successful_runs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "failed_runs": {
          "name": "failed_runs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "average_duration_ms": {
          "name": "average_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "last_run_at": {
          "name": "last_run_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "pipelines_name_idx": {
          "name": "pipelines_name_idx",
          "columns": ["name"],
          "isUnique": false
        },
        "pipelines_enabled_idx": {
          "name": "pipelines_enabled_idx",
          "columns": ["enabled"],
          "isUnique": false
        },
        "pipelines_owner_idx": {
          "name": "pipelines_owner_idx",
          "columns": ["owner_id"],
          "isUnique": false
        },
        "pipelines_trigger_type_idx": {
          "name": "pipelines_trigger_type_idx",
          "columns": ["trigger_type"],
          "isUnique": false
        },
        "pipelines_next_trigger_idx": {
          "name": "pipelines_next_trigger_idx",
          "columns": ["next_trigger_at"],
          "isUnique": false
        },
        "pipelines_created_at_idx": {
          "name": "pipelines_created_at_idx",
          "columns": ["created_at"],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "safety_configs": {
      "name": "safety_configs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "enabled": {
          "name": "enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "category_enables": {
          "name": "category_enables",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rate_limits": {
          "name": "rate_limits",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "budget": {
          "name": "budget",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "approval_workflow": {
          "name": "approval_workflow",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "safety_configs_workspace_idx": {
          "name": "safety_configs_workspace_idx",
          "columns": ["workspace_id"],
          "isUnique": false
        },
        "safety_configs_workspace_name_idx": {
          "name": "safety_configs_workspace_name_idx",
          "columns": ["workspace_id", "name"],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "safety_rules": {
      "name": "safety_rules",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "config_id": {
          "name": "config_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "conditions": {
          "name": "conditions",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "condition_logic": {
          "name": "condition_logic",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'and'"
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "enabled": {
          "name": "enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "alternatives": {
          "name": "alternatives",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "safety_rules_config_idx": {
          "name": "safety_rules_config_idx",
          "columns": ["config_id"],
          "isUnique": false
        },
        "safety_rules_workspace_idx": {
          "name": "safety_rules_workspace_idx",
          "columns": ["workspace_id"],
          "isUnique": false
        },
        "safety_rules_category_idx": {
          "name": "safety_rules_category_idx",
          "columns": ["category"],
          "isUnique": false
        },
        "safety_rules_enabled_idx": {
          "name": "safety_rules_enabled_idx",
          "columns": ["enabled"],
          "isUnique": false
        },
        "safety_rules_priority_idx": {
          "name": "safety_rules_priority_idx",
          "columns": ["priority"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "safety_rules_config_id_safety_configs_id_fk": {
          "name": "safety_rules_config_id_safety_configs_id_fk",
          "tableFrom": "safety_rules",
          "tableTo": "safety_configs",
          "columnsFrom": ["config_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "safety_violations": {
      "name": "safety_violations",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rule_id": {
          "name": "rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rule_name": {
          "name": "rule_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rule_category": {
          "name": "rule_category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rule_severity": {
          "name": "rule_severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "operation_type": {
          "name": "operation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "operation_details": {
          "name": "operation_details",
          "type": "blob",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "action_taken": {
          "name": "action_taken",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "task_description": {
          "name": "task_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "recent_history": {
          "name": "recent_history",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "safety_violations_workspace_idx": {
          "name": "safety_violations_workspace_idx",
          "columns": ["workspace_id"],
          "isUnique": false
        },
        "safety_violations_agent_idx": {
          "name": "safety_violations_agent_idx",
          "columns": ["agent_id"],
          "isUnique": false
        },
        "safety_violations_rule_idx": {
          "name": "safety_violations_rule_idx",
          "columns": ["rule_id"],
          "isUnique": false
        },
        "safety_violations_severity_idx": {
          "name": "safety_violations_severity_idx",
          "columns": ["rule_severity"],
          "isUnique": false
        },
        "safety_violations_timestamp_idx": {
          "name": "safety_violations_timestamp_idx",
          "columns": ["timestamp"],
          "isUnique": false
        },
        "safety_violations_correlation_idx": {
          "name": "safety_violations_correlation_idx",
          "columns": ["correlation_id"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "safety_violations_agent_id_agents_id_fk": {
          "name": "safety_violations_agent_id_agents_id_fk",
          "tableFrom": "safety_violations",
          "tableTo": "agents",
          "columnsFrom": ["agent_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "safety_violations_rule_id_safety_rules_id_fk": {
          "name": "safety_violations_rule_id_safety_rules_id_fk",
          "tableFrom": "safety_violations",
          "tableTo": "safety_rules",
          "columnsFrom": ["rule_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}
